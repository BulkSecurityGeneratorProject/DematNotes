<mat-tab-group>
    <mat-tab label="Résultats" cdkScrollable style="overflow-y: auto;overflow-x: auto; height: 200px" *jhiHasAnyAuthority="['ROLE_STUDENT','ROLE_ADMIN']">
        <span>Résultats</span>
        <!-- Listes déroulante -->
        <mat-form-field>
            <mat-select name="schoolSelected" [(ngModel)]="schoolIndexSelected"
                        (ngModelChange)="this.getClassroomsTeacher()" placeholder="Ecoles">
                <mat-option *ngFor="let school of schools" [value]="school.id">
                    {{ school.wording }} - {{school.city}}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field *ngIf="schoolIndexSelected && this.classrooms !== null && this.classrooms.length > 0">
            <mat-select name="classroomSelected" [(ngModel)]="classroomIndexSelected"
                        (ngModelChange)="this.getStudentsByTeacher()" placeholder="Classes">
                <mat-option *ngFor="let classroom of classrooms" [value]="classroom.id">
                    {{ classroom.entitled }} - {{ classroom.option }} - {{ classroom.division }}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field *ngIf="this.classroomIndexSelected && this.users !== null && this.users.length > 0">
            <mat-select name="userSelected" [(ngModel)]="this.userIndexSelected"
                        (ngModelChange)="this.getStudentByTeacher()" placeholder="Etudiants">
                <mat-option *ngFor="let user of users" [value]="user.id">
                    {{ user.firstName }} - {{ user.lastName }}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <mat-grid-list cols="2" rowHeight="2:1" *ngIf="this.userIndexSelected && results.user != null">
            <div class="caption">
                <p>{{results.user.firstName}} {{results.user.lastName}}</p>
            </div>
            <mat-grid-tile>
                <div class="thumbnail">
                    <img [src]="this.results.user.imageUrl" *ngIf="this.results.user.imageUrl" alt="Lights" style="width:100%">
                </div>
            </mat-grid-tile>
            <mat-grid-tile>
                <table class="table table-striped tab">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Moyenne</th>
                        <th scope="col">Commentaire</th>
                        <th scope="col">Module</th>
                    </tr>
                    <tr *ngFor="let evaluation of this.results.evaluations">
                        <td scope="row"></td>
                        <td>{{evaluation.average}}</td>
                        <td>{{evaluation.comment}}</td>
                        <td>{{evaluation.module.entitled}}</td>
                    </tr>
                </table>
            </mat-grid-tile>
        </mat-grid-list>
    </mat-tab>
</mat-tab-group>


